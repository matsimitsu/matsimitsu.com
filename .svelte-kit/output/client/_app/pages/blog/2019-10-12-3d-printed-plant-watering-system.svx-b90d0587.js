import{S as n,i as s,s as a,A as t,j as o,m as e,o as p,p as i,v as r,r as c,w as l,q as u,e as h,t as k,k as d,c as m,a as f,g,d as w,n as v,b,f as $,E as y,G as E}from"../../chunks/vendor-f5a3c274.js";import{M as S}from"../../chunks/_mdsvex-0fbf9182.js";import{R as I}from"../../chunks/ResponsiveImage-8c4fb22f.js";import{P}from"../../chunks/Panels-e8185001.js";import"../../chunks/stores-0da78aa4.js";import"../../chunks/FormattedDate-b4a44e35.js";function A(n){let s,a,t,i;return s=new I({props:{src:"https://cdn.matsimitsu.com/blog/plantr/IMG_20190924_145858.jpg",width:"2200",height:"1650",alt:"3d printer"}}),t=new I({props:{src:"https://cdn.matsimitsu.com/blog/plantr/IMG_20190924_144650.jpg",width:"2200",height:"1650",alt:"Printed housing electrical components"}}),{c(){o(s.$$.fragment),a=d(),o(t.$$.fragment)},l(n){e(s.$$.fragment,n),a=v(n),e(t.$$.fragment,n)},m(n,o){p(s,n,o),$(n,a,o),p(t,n,o),i=!0},p:E,i(n){i||(r(s.$$.fragment,n),r(t.$$.fragment,n),i=!0)},o(n){c(s.$$.fragment,n),c(t.$$.fragment,n),i=!1},d(n){l(s,n),n&&w(a),l(t,n)}}}function T(n){let s,a,t,i;return s=new I({props:{src:"https://cdn.matsimitsu.com/blog/plantr/IMG_20190924_144806.jpg",width:"2200",height:"1650",alt:"PCB side view"}}),t=new I({props:{src:"https://cdn.matsimitsu.com/blog/plantr/IMG_20190924_144820.jpg",width:"2200",height:"1650",alt:"3d printed housing"}}),{c(){o(s.$$.fragment),a=d(),o(t.$$.fragment)},l(n){e(s.$$.fragment,n),a=v(n),e(t.$$.fragment,n)},m(n,o){p(s,n,o),$(n,a,o),p(t,n,o),i=!0},p:E,i(n){i||(r(s.$$.fragment,n),r(t.$$.fragment,n),i=!0)},o(n){c(s.$$.fragment,n),c(t.$$.fragment,n),i=!1},d(n){l(s,n),n&&w(a),l(t,n)}}}function x(n){let s,a,t,i,u,E,S,x,M,j,C,N,W,F,G,O,R,_,L,V,H,D,U,q,X,B,Z,z,J,K,Q,Y,nn,sn,an,tn,on,en,pn,rn,cn,ln,un,hn,kn,dn,mn,fn,gn,wn,vn,bn,$n,yn,En,Sn,In,Pn,An,Tn,xn,Mn,jn,Cn,Nn,Wn,Fn,Gn,On,Rn,_n,Ln,Vn,Hn,Dn,Un,qn,Xn,Bn,Zn,zn,Jn,Kn,Qn,Yn,ns,ss,as,ts,os,es,ps,is,rs,cs,ls,us,hs,ks,ds,ms,fs,gs,ws,vs,bs,$s,ys,Es,Ss,Is,Ps,As,Ts,xs,Ms,js,Cs,Ns,Ws;return C=new I({props:{src:"https://cdn.matsimitsu.com/blog/plantr/IMG_20190924_144612.jpg",width:"2200",height:"1650",alt:"Photo of requried gear for plantr electrical components"}}),Bn=new P({props:{$$slots:{default:[A]},$$scope:{ctx:n}}}),Qn=new P({props:{$$slots:{default:[T]},$$scope:{ctx:n}}}),ts=new I({props:{src:"https://cdn.matsimitsu.com/blog/plantr/IMG_20190924_144941.jpg",width:"2200",height:"1945",alt:"Photo of electrical components inside of 3d printed housing"}}),Ns=new I({props:{src:"https://cdn.matsimitsu.com/blog/plantr/DSC09829.jpg",width:"2200",height:"1509",alt:"Plantr in action"}}),{c(){s=h("p"),a=k("After getting back from a 3-week trip my plants were not in a good mood, there was a heatwave when I was gone and not all plants survived. Time to think of a solution."),t=d(),i=h("h2"),u=h("a"),E=k("Parts"),S=d(),x=h("p"),M=k("I had most of these parts laying around and it took suprisingly few parts to make this project work. There are probably better options for each part and an ESP8266 might be a bit overkill for what we’re doing here, but at less than 2 dollars I am not going to bother with other options."),j=d(),o(C.$$.fragment),N=d(),W=h("p"),F=k("Above you can see the following parts:"),G=d(),O=h("ul"),R=h("li"),_=h("strong"),L=k("ESP8266 NodeMCU"),V=k(" ("),H=h("a"),D=k("AliExpress"),U=k("). The brains of the operation, easy to use with the Arduino IDE and the surrounding print makes it easy to flash without having to solder certain pins and do other tricks."),q=d(),X=h("li"),B=h("strong"),Z=k("3v-5v Air pump"),z=k(" ("),J=h("a"),K=k("AliExpress"),Q=k("). I chose an over-pressure system in favor of a water pump, as I wanted everything enclosed and I’d like to keep water as far away from electronics as possible."),Y=d(),nn=h("li"),sn=h("strong"),an=k("Capacitive soil sensor"),tn=k(" ("),on=h("a"),en=k("AliExpress"),pn=k("). Most projects involving measuring soil water levels use a cheaper double-pronged circut board with metal. It corrodes quite fast, which this Capacitive soil sensor does not."),rn=d(),cn=h("li"),ln=h("strong"),un=k("STP16NF06L MOSFET"),hn=k(" ("),kn=h("a"),dn=k("AliExpress"),mn=k("). The air pump works at 3volt, but not when connected directly to the NodeMCU digital out pin. Instead I hooked it up to the 5V VIN pin and use this mosfet with a digital out pin to trigger the air pump. There are probably better ways to do this, but it was the only thing I had laying around :)."),fn=d(),gn=h("li"),wn=h("strong"),vn=k("4X6 cm Prototype Circut board"),bn=k(" ("),$n=h("a"),yn=k("AliExpress"),En=k("). To solder the wires/Mosfet onto."),Sn=d(),In=h("li"),Pn=k("Some standard soldering stuff such as wires and male pins."),An=d(),Tn=h("p"),xn=k("Total cost: "),Mn=h("strong"),jn=k("€ 10.00"),Cn=k(" or "),Nn=h("strong"),Wn=k("$ 11.00"),Fn=k("."),Gn=d(),On=h("h2"),Rn=h("a"),_n=k("Housing"),Ln=d(),Vn=h("p"),Hn=k("I didn’t want to have some electronics hanging around my plants so it’s time to put that 3d printer to good use. I fired up Fusion360 and came up with this design for an enclosure."),Dn=d(),Un=h("p"),qn=k("It just fits the pump and electronics and “only” takes about 4 hours to print."),Xn=d(),o(Bn.$$.fragment),Zn=d(),zn=h("p"),Jn=k("The soil sensor has to go into the plant pot and I’d like to hang the enclosure on the side of the plant pot. This means we need some way for the sensor to connect to the circut board inside the enclosure and ideally without having wires outside of the pot. With a bit of measuring I figured out a place to solder 3 male header pins on the bottom of the circut board and line up a hole in the enclosure. The hole also lets the air in for the pump to function."),Kn=d(),o(Qn.$$.fragment),Yn=d(),ns=h("p"),ss=k("After glue-ing in the circut board and the motor we end up with a nice filled-out enclosure."),as=d(),o(ts.$$.fragment),os=d(),es=h("h2"),ps=h("a"),is=k("Software"),rs=d(),cs=h("p"),ls=k("Time to load some code onto the NodeMCU."),us=d(),hs=h("p"),ks=k("Most of this build is based on the following instructables post: "),ds=h("a"),ms=k("ESP8266 Soil Moisture Sensor With Arduino IDE"),fs=k(". I modified the code to remove the webpage and altered the calculation for my version of the moisture sensor."),gs=d(),ws=h("pre"),vs=d(),bs=h("p"),$s=k("The code does a few things, it connects to WiFi (not used rightnow, but will use it to send data to "),ys=h("a"),Es=k("Home Assistant"),Ss=k(" in the next iteration). Every 10 seconds it measures the soil mosture levels. If it’s below 25% it enables the motor, that will push air into the bottle and water out the other hose onto the soil."),Is=d(),Ps=h("h2"),As=h("a"),Ts=k("Result"),xs=d(),Ms=h("p"),js=k("Combine all the things together and you get this: a little device you can attach to your plant pot and a bottle of water with two hoses that will water your plant when the soil gets too dry."),Cs=d(),o(Ns.$$.fragment),this.h()},l(n){s=m(n,"P",{});var o=f(s);a=g(o,"After getting back from a 3-week trip my plants were not in a good mood, there was a heatwave when I was gone and not all plants survived. Time to think of a solution."),o.forEach(w),t=v(n),i=m(n,"H2",{id:!0});var p=f(i);u=m(p,"A",{href:!0});var r=f(u);E=g(r,"Parts"),r.forEach(w),p.forEach(w),S=v(n),x=m(n,"P",{});var c=f(x);M=g(c,"I had most of these parts laying around and it took suprisingly few parts to make this project work. There are probably better options for each part and an ESP8266 might be a bit overkill for what we’re doing here, but at less than 2 dollars I am not going to bother with other options."),c.forEach(w),j=v(n),e(C.$$.fragment,n),N=v(n),W=m(n,"P",{});var l=f(W);F=g(l,"Above you can see the following parts:"),l.forEach(w),G=v(n),O=m(n,"UL",{});var h=f(O);R=m(h,"LI",{});var k=f(R);_=m(k,"STRONG",{});var d=f(_);L=g(d,"ESP8266 NodeMCU"),d.forEach(w),V=g(k," ("),H=m(k,"A",{href:!0,rel:!0});var b=f(H);D=g(b,"AliExpress"),b.forEach(w),U=g(k,"). The brains of the operation, easy to use with the Arduino IDE and the surrounding print makes it easy to flash without having to solder certain pins and do other tricks."),k.forEach(w),q=v(h),X=m(h,"LI",{});var $=f(X);B=m($,"STRONG",{});var y=f(B);Z=g(y,"3v-5v Air pump"),y.forEach(w),z=g($," ("),J=m($,"A",{href:!0,rel:!0});var I=f(J);K=g(I,"AliExpress"),I.forEach(w),Q=g($,"). I chose an over-pressure system in favor of a water pump, as I wanted everything enclosed and I’d like to keep water as far away from electronics as possible."),$.forEach(w),Y=v(h),nn=m(h,"LI",{});var P=f(nn);sn=m(P,"STRONG",{});var A=f(sn);an=g(A,"Capacitive soil sensor"),A.forEach(w),tn=g(P," ("),on=m(P,"A",{href:!0,rel:!0});var T=f(on);en=g(T,"AliExpress"),T.forEach(w),pn=g(P,"). Most projects involving measuring soil water levels use a cheaper double-pronged circut board with metal. It corrodes quite fast, which this Capacitive soil sensor does not."),P.forEach(w),rn=v(h),cn=m(h,"LI",{});var Ws=f(cn);ln=m(Ws,"STRONG",{});var Fs=f(ln);un=g(Fs,"STP16NF06L MOSFET"),Fs.forEach(w),hn=g(Ws," ("),kn=m(Ws,"A",{href:!0,rel:!0});var Gs=f(kn);dn=g(Gs,"AliExpress"),Gs.forEach(w),mn=g(Ws,"). The air pump works at 3volt, but not when connected directly to the NodeMCU digital out pin. Instead I hooked it up to the 5V VIN pin and use this mosfet with a digital out pin to trigger the air pump. There are probably better ways to do this, but it was the only thing I had laying around :)."),Ws.forEach(w),fn=v(h),gn=m(h,"LI",{});var Os=f(gn);wn=m(Os,"STRONG",{});var Rs=f(wn);vn=g(Rs,"4X6 cm Prototype Circut board"),Rs.forEach(w),bn=g(Os," ("),$n=m(Os,"A",{href:!0,rel:!0});var _s=f($n);yn=g(_s,"AliExpress"),_s.forEach(w),En=g(Os,"). To solder the wires/Mosfet onto."),Os.forEach(w),Sn=v(h),In=m(h,"LI",{});var Ls=f(In);Pn=g(Ls,"Some standard soldering stuff such as wires and male pins."),Ls.forEach(w),h.forEach(w),An=v(n),Tn=m(n,"P",{});var Vs=f(Tn);xn=g(Vs,"Total cost: "),Mn=m(Vs,"STRONG",{});var Hs=f(Mn);jn=g(Hs,"€ 10.00"),Hs.forEach(w),Cn=g(Vs," or "),Nn=m(Vs,"STRONG",{});var Ds=f(Nn);Wn=g(Ds,"$ 11.00"),Ds.forEach(w),Fn=g(Vs,"."),Vs.forEach(w),Gn=v(n),On=m(n,"H2",{id:!0});var Us=f(On);Rn=m(Us,"A",{href:!0});var qs=f(Rn);_n=g(qs,"Housing"),qs.forEach(w),Us.forEach(w),Ln=v(n),Vn=m(n,"P",{});var Xs=f(Vn);Hn=g(Xs,"I didn’t want to have some electronics hanging around my plants so it’s time to put that 3d printer to good use. I fired up Fusion360 and came up with this design for an enclosure."),Xs.forEach(w),Dn=v(n),Un=m(n,"P",{});var Bs=f(Un);qn=g(Bs,"It just fits the pump and electronics and “only” takes about 4 hours to print."),Bs.forEach(w),Xn=v(n),e(Bn.$$.fragment,n),Zn=v(n),zn=m(n,"P",{});var Zs=f(zn);Jn=g(Zs,"The soil sensor has to go into the plant pot and I’d like to hang the enclosure on the side of the plant pot. This means we need some way for the sensor to connect to the circut board inside the enclosure and ideally without having wires outside of the pot. With a bit of measuring I figured out a place to solder 3 male header pins on the bottom of the circut board and line up a hole in the enclosure. The hole also lets the air in for the pump to function."),Zs.forEach(w),Kn=v(n),e(Qn.$$.fragment,n),Yn=v(n),ns=m(n,"P",{});var zs=f(ns);ss=g(zs,"After glue-ing in the circut board and the motor we end up with a nice filled-out enclosure."),zs.forEach(w),as=v(n),e(ts.$$.fragment,n),os=v(n),es=m(n,"H2",{id:!0});var Js=f(es);ps=m(Js,"A",{href:!0});var Ks=f(ps);is=g(Ks,"Software"),Ks.forEach(w),Js.forEach(w),rs=v(n),cs=m(n,"P",{});var Qs=f(cs);ls=g(Qs,"Time to load some code onto the NodeMCU."),Qs.forEach(w),us=v(n),hs=m(n,"P",{});var Ys=f(hs);ks=g(Ys,"Most of this build is based on the following instructables post: "),ds=m(Ys,"A",{href:!0,rel:!0});var na=f(ds);ms=g(na,"ESP8266 Soil Moisture Sensor With Arduino IDE"),na.forEach(w),fs=g(Ys,". I modified the code to remove the webpage and altered the calculation for my version of the moisture sensor."),Ys.forEach(w),gs=v(n),ws=m(n,"PRE",{class:!0}),f(ws).forEach(w),vs=v(n),bs=m(n,"P",{});var sa=f(bs);$s=g(sa,"The code does a few things, it connects to WiFi (not used rightnow, but will use it to send data to "),ys=m(sa,"A",{href:!0,rel:!0});var aa=f(ys);Es=g(aa,"Home Assistant"),aa.forEach(w),Ss=g(sa," in the next iteration). Every 10 seconds it measures the soil mosture levels. If it’s below 25% it enables the motor, that will push air into the bottle and water out the other hose onto the soil."),sa.forEach(w),Is=v(n),Ps=m(n,"H2",{id:!0});var ta=f(Ps);As=m(ta,"A",{href:!0});var oa=f(As);Ts=g(oa,"Result"),oa.forEach(w),ta.forEach(w),xs=v(n),Ms=m(n,"P",{});var ea=f(Ms);js=g(ea,"Combine all the things together and you get this: a little device you can attach to your plant pot and a bottle of water with two hoses that will water your plant when the soil gets too dry."),ea.forEach(w),Cs=v(n),e(Ns.$$.fragment,n),this.h()},h(){b(u,"href","#parts"),b(i,"id","parts"),b(H,"href","https://nl.aliexpress.com/item/32647690484.html"),b(H,"rel","nofollow"),b(J,"href","https://nl.aliexpress.com/item/32815282155.html"),b(J,"rel","nofollow"),b(on,"href","https://nl.aliexpress.com/item/32829003131.html"),b(on,"rel","nofollow"),b(kn,"href","https://nl.aliexpress.com/item/32953020855.html"),b(kn,"rel","nofollow"),b($n,"href","https://nl.aliexpress.com/item/1625000537.html"),b($n,"rel","nofollow"),b(Rn,"href","#housing"),b(On,"id","housing"),b(ps,"href","#software"),b(es,"id","software"),b(ds,"href","https://www.instructables.com/id/ESP8266-Soil-Moisture-Sensor-With-Arduino-IDE/"),b(ds,"rel","nofollow"),b(ws,"class","language-c"),b(ys,"href","https://www.home-assistant.io/"),b(ys,"rel","nofollow"),b(As,"href","#result"),b(Ps,"id","result")},m(n,o){$(n,s,o),y(s,a),$(n,t,o),$(n,i,o),y(i,u),y(u,E),$(n,S,o),$(n,x,o),y(x,M),$(n,j,o),p(C,n,o),$(n,N,o),$(n,W,o),y(W,F),$(n,G,o),$(n,O,o),y(O,R),y(R,_),y(_,L),y(R,V),y(R,H),y(H,D),y(R,U),y(O,q),y(O,X),y(X,B),y(B,Z),y(X,z),y(X,J),y(J,K),y(X,Q),y(O,Y),y(O,nn),y(nn,sn),y(sn,an),y(nn,tn),y(nn,on),y(on,en),y(nn,pn),y(O,rn),y(O,cn),y(cn,ln),y(ln,un),y(cn,hn),y(cn,kn),y(kn,dn),y(cn,mn),y(O,fn),y(O,gn),y(gn,wn),y(wn,vn),y(gn,bn),y(gn,$n),y($n,yn),y(gn,En),y(O,Sn),y(O,In),y(In,Pn),$(n,An,o),$(n,Tn,o),y(Tn,xn),y(Tn,Mn),y(Mn,jn),y(Tn,Cn),y(Tn,Nn),y(Nn,Wn),y(Tn,Fn),$(n,Gn,o),$(n,On,o),y(On,Rn),y(Rn,_n),$(n,Ln,o),$(n,Vn,o),y(Vn,Hn),$(n,Dn,o),$(n,Un,o),y(Un,qn),$(n,Xn,o),p(Bn,n,o),$(n,Zn,o),$(n,zn,o),y(zn,Jn),$(n,Kn,o),p(Qn,n,o),$(n,Yn,o),$(n,ns,o),y(ns,ss),$(n,as,o),p(ts,n,o),$(n,os,o),$(n,es,o),y(es,ps),y(ps,is),$(n,rs,o),$(n,cs,o),y(cs,ls),$(n,us,o),$(n,hs,o),y(hs,ks),y(hs,ds),y(ds,ms),y(hs,fs),$(n,gs,o),$(n,ws,o),ws.innerHTML='<code class="language-c"><span class="token comment">/* ESP8266 Moisture Sensor\n   Original code from: https://github.com/dmainmon/ESP8266-Soil-Moisture-Sensor\n*/</span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ESP8266WiFi.h></span></span>\n\n<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> ssid <span class="token operator">=</span> <span class="token string">"xxx"</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> password <span class="token operator">=</span> <span class="token string">"xxx"</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> <span class="token keyword">int</span> motorPin <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">// ~D5</span>\n<span class="token keyword">const</span> <span class="token keyword">int</span> sensorPin <span class="token operator">=</span> A0<span class="token punctuation">;</span>\n\n<span class="token keyword">double</span> analogValue <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>\n<span class="token keyword">double</span> analogVolts <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>\nbool runMotor <span class="token operator">=</span> LOW<span class="token punctuation">;</span>\n\n<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token function">pinMode</span><span class="token punctuation">(</span>motorPin<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token comment">// Connect to WiFi network</span>\n  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Connecting to "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ssid<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  WiFi<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>ssid<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token comment">// connect to WiFi router</span>\n  <span class="token keyword">while</span> <span class="token punctuation">(</span>WiFi<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> WL_CONNECTED<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">&#125;</span>\n\n  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"WiFi connected"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>WiFi<span class="token punctuation">.</span><span class="token function">localIP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span>\n\n\n<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n  analogValue <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>sensorPin<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// read the analog signal</span>\n\n  <span class="token comment">// convert the analog signal to voltage</span>\n  <span class="token comment">// the ESP2866 A0 reads between 0 and ~3 volts, producing a corresponding value</span>\n  <span class="token comment">// between 0 and 1024. The equation below will convert the value to a voltage value.</span>\n\n  analogVolts <span class="token operator">=</span> <span class="token punctuation">(</span>analogValue <span class="token operator">*</span> <span class="token number">3.08</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1024</span><span class="token punctuation">;</span>\n\n  <span class="token comment">// now get our chart value by converting the analog (0-1024) value to a value between 0 and 100.</span>\n  <span class="token comment">// the value of 400 was determined by using a dry moisture sensor (not in soil, just in air).</span>\n  <span class="token comment">// When dry, the moisture sensor value was approximately 400. This value might need adjustment</span>\n  <span class="token comment">// for fine tuning of the percentage.</span>\n\n  <span class="token keyword">int</span> percentage <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>analogValue <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">850</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token comment">// now reverse the value so that the value goes up as moisture increases</span>\n  <span class="token comment">// the raw value goes down with wetness, we want our chart to go up with wetness</span>\n  percentage <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">-</span> percentage<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>percentage <span class="token operator">&lt;=</span> <span class="token number">25</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 0-25 is "dry soil"</span>\n    runMotor <span class="token operator">=</span> HIGH<span class="token punctuation">;</span>\n  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>\n    runMotor <span class="token operator">=</span> LOW<span class="token punctuation">;</span>\n  <span class="token punctuation">&#125;</span>\n  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>motorPin<span class="token punctuation">,</span> runMotor<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token comment">// Serial data</span>\n  Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Analog raw: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>analogValue<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Analog V: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>analogVolts<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"percentage: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>percentage<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Run motor: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>runMotor<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Sleep 10 seconds</span>\n<span class="token punctuation">&#125;</span></code>',$(n,vs,o),$(n,bs,o),y(bs,$s),y(bs,ys),y(ys,Es),y(bs,Ss),$(n,Is,o),$(n,Ps,o),y(Ps,As),y(As,Ts),$(n,xs,o),$(n,Ms,o),y(Ms,js),$(n,Cs,o),p(Ns,n,o),Ws=!0},p(n,s){const a={};1&s&&(a.$$scope={dirty:s,ctx:n}),Bn.$set(a);const t={};1&s&&(t.$$scope={dirty:s,ctx:n}),Qn.$set(t)},i(n){Ws||(r(C.$$.fragment,n),r(Bn.$$.fragment,n),r(Qn.$$.fragment,n),r(ts.$$.fragment,n),r(Ns.$$.fragment,n),Ws=!0)},o(n){c(C.$$.fragment,n),c(Bn.$$.fragment,n),c(Qn.$$.fragment,n),c(ts.$$.fragment,n),c(Ns.$$.fragment,n),Ws=!1},d(n){n&&w(s),n&&w(t),n&&w(i),n&&w(S),n&&w(x),n&&w(j),l(C,n),n&&w(N),n&&w(W),n&&w(G),n&&w(O),n&&w(An),n&&w(Tn),n&&w(Gn),n&&w(On),n&&w(Ln),n&&w(Vn),n&&w(Dn),n&&w(Un),n&&w(Xn),l(Bn,n),n&&w(Zn),n&&w(zn),n&&w(Kn),l(Qn,n),n&&w(Yn),n&&w(ns),n&&w(as),l(ts,n),n&&w(os),n&&w(es),n&&w(rs),n&&w(cs),n&&w(us),n&&w(hs),n&&w(gs),n&&w(ws),n&&w(vs),n&&w(bs),n&&w(Is),n&&w(Ps),n&&w(xs),n&&w(Ms),n&&w(Cs),l(Ns,n)}}}function M(n){let s,a;const h=[j];let k={$$slots:{default:[x]},$$scope:{ctx:n}};for(let o=0;o<h.length;o+=1)k=t(k,h[o]);return s=new S({props:k}),{c(){o(s.$$.fragment)},l(n){e(s.$$.fragment,n)},m(n,t){p(s,n,t),a=!0},p(n,[a]){const t=0&a?i(h,[u(j)]):{};1&a&&(t.$$scope={dirty:a,ctx:n}),s.$set(t)},i(n){a||(r(s.$$.fragment,n),a=!0)},o(n){c(s.$$.fragment,n),a=!1},d(n){l(s,n)}}}const j={title:"Automatically water your plants with this 3d-printed system.",date:"2019-10-12T00:00:00.000Z",summary:"After getting back from a 3-week trip my plants were not in a good mood, there was a heatwave when I was gone and not all plants survived. Time to think of a solution."};export default class extends n{constructor(n){super(),s(this,n,null,M,a,{})}}export{j as metadata};
